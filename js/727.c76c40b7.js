"use strict";(self["webpackChunkvue_cnode"]=self["webpackChunkvue_cnode"]||[]).push([[727],{1727:function(t,a,s){s.r(a),s.d(a,{default:function(){return c}});var e=function(){var t=this,a=t._self._c;return a("div",[a("BasePanel",{scopedSlots:t._u([{key:"panel-head",fn:function(){return[a("router-link",{attrs:{to:"/"}},[t._v("主页")]),t._v(" / "),a("span",[t._v("新消息")])]},proxy:!0},{key:"panel-content",fn:function(){return[t.hasnot_read_messages.length?a("div",t._l(t.hasnot_read_messages,(function(s){return a("div",{key:s.id,staticClass:"message"},[a("router-link",{attrs:{to:`/user/${s.author.loginname}`}},[a("img",{staticClass:"avatar_url",attrs:{src:s.author.avatar_url,alt:""}})]),a("div",{staticClass:"content"},[a("router-link",{attrs:{to:`/user/${s.author.loginname}`}},[a("span",[t._v(t._s(s.author.loginname))])]),a("span",[t._v(t._s("reply"===s.type?"回复了你的话题":"在"))]),a("router-link",{attrs:{to:`/topic/${s.topic.id}`}},[a("h4",[t._v(t._s(s.topic.title))])]),"at"===s.type?a("span",[t._v("@了你")]):t._e()],1),a("span",{staticClass:"time"},[t._v(t._s(t._f("fromNow")(s.create_at)))])],1)})),0):a("div",[a("span",[t._v("无消息")])])]},proxy:!0}])}),a("BasePanel",{scopedSlots:t._u([{key:"panel-head",fn:function(){return[a("span",[t._v("过往消息")])]},proxy:!0},{key:"panel-content",fn:function(){return t._l(t.has_read_messages,(function(s){return a("div",{key:s.id,staticClass:"message"},[a("router-link",{attrs:{to:`/user/${s.author.loginname}`}},[a("img",{staticClass:"avatar_url",attrs:{src:s.author.avatar_url,alt:""}})]),a("div",{staticClass:"content"},[a("router-link",{attrs:{to:`/user/${s.author.loginname}`}},[a("span",[t._v(t._s(s.author.loginname))])]),a("span",[t._v(t._s("reply"===s.type?"回复了你的话题":"在"))]),a("router-link",{attrs:{to:`/topic/${s.topic.id}`}},[a("h4",[t._v(t._s(s.topic.title))])]),"at"===s.type?a("span",[t._v("@了你")]):t._e()],1),a("span",{staticClass:"time"},[t._v(t._s(t._f("fromNow")(s.create_at)))])],1)}))},proxy:!0}])})],1)},n=[],r=s(7360),o=s(3150),_={components:{BasePanel:r.Z},data(){return{messages:null,has_read_messages:"",hasnot_read_messages:""}},async created(){const t=await(0,o.FC)(sessionStorage.getItem("accesstoken"));this.messages=t.data,this.has_read_messages=t.data.has_read_messages,this.hasnot_read_messages=t.data.hasnot_read_messages,console.log(t.data.hasnot_read_messages),t.data.hasnot_read_messages.length&&(0,o.At)(sessionStorage.getItem("accesstoken"))}},i=_,l=s(1001),u=(0,l.Z)(i,e,n,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=727.c76c40b7.js.map